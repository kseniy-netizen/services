<script>
export default {
    name: 'Header',
    data() {
        return {
            showMobileMenu: false
        }
    },
    methods: {
        toggleMobileMenu() {
            this.showMobileMenu = !this.showMobileMenu;
        },
        closeMobileMenu() {
            this.showMobileMenu = false;
        }
    },
    watch: {
        $route() {
            this.closeMobileMenu();
        }
    }
}
</script>

<template>
    <header class="header">
        <div class="header-container">
            <!-- –ë—Ä–µ–Ω–¥ -->
            <router-link to="/" class="brand">
                Capture Studio
            </router-link>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è (–¥–µ—Å–∫—Ç–æ–ø) -->
            <nav class="nav">
                <router-link :to="{ path: '/', hash: '#chapter' }" class="nav-link">
                    –†–∞–∑–¥–µ–ª—ã
                </router-link>
                <router-link :to="{ path: '/', hash: '#specialists' }" class="nav-link">
                    –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã
                </router-link>
                <router-link :to="{ path: '/', hash: '#work' }" class="nav-link nowrap">
                    –õ—É—á—à–∏–µ —Ä–∞–±–æ—Ç—ã
                </router-link>
                <router-link to="/price" class="nav-link">
                    –¢–∞—Ä–∏—Ñ—ã
                </router-link>
            </nav>

            <!-- –î–µ–π—Å—Ç–≤–∏—è (–¥–µ—Å–∫—Ç–æ–ø) -->
            <div class="actions">
                <router-link to="/prof" class="fav">ü§ç</router-link>
                <router-link to="/enter" class="btn">–í–û–ô–¢–ò</router-link>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
            <button class="mobile-menu-btn" @click="toggleMobileMenu" :class="{ 'active': showMobileMenu }">
                <span class="menu-icon">‚ò∞</span>
                <span class="close-icon">‚úï</span>
            </button>
        </div>

        <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
        <div class="mobile-menu" :class="{ 'active': showMobileMenu }">
            <router-link :to="{ path: '/', hash: '#chapter' }" class="mobile-nav-link" @click="closeMobileMenu">
                –†–∞–∑–¥–µ–ª—ã
            </router-link>
            <router-link :to="{ path: '/', hash: '#specialists' }" class="mobile-nav-link" @click="closeMobileMenu">
                –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã
            </router-link>
            <router-link :to="{ path: '/', hash: '#work' }" class="mobile-nav-link" @click="closeMobileMenu">
                –õ—É—á—à–∏–µ —Ä–∞–±–æ—Ç—ã
            </router-link>
            <router-link to="/price" class="mobile-nav-link" @click="closeMobileMenu">
                –¢–∞—Ä–∏—Ñ—ã
            </router-link>
            <div class="mobile-actions">
                <router-link to="/prof" class="mobile-fav" @click="closeMobileMenu">
                    ü§ç –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
                </router-link>
                <router-link to="/enter" class="mobile-btn" @click="closeMobileMenu">
                    –í–û–ô–¢–ò
                </router-link>
            </div>
        </div>
    </header>
</template>

<style scoped>
.header {
    background: #252525;
    color: white;
    padding: 15px 0;
    width: 100%;
    box-sizing: border-box;
}

.header-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
}


.brand {
    font-size: 1.4rem;
    font-family: "ProtestRevolution-Regular", sans-serif;
    color: white;
    text-decoration: none;
    white-space: nowrap;
    z-index: 2;
}


.nav {
    display: flex;
    gap: 30px;
    align-items: center;
}

.nav-link {
    color: white;
    text-decoration: none;
    font-size: 16px;
    transition: opacity 0.3s;
    white-space: nowrap;
}

.nav-link:hover {
    opacity: 0.8;
}

.nowrap {
    white-space: nowrap;
}

/* –î–µ–π—Å—Ç–≤–∏—è (–¥–µ—Å–∫—Ç–æ–ø) */
.actions {
    display: flex;
    align-items: center;
    gap: 20px;

}

.fav {
    font-size: 28px;
    color: white;
    text-decoration: none;
    line-height: 1;
    display: flex;
    align-items: center;
}

.btn {
    color: white;
    text-decoration: none;
    border: 1px solid white;
    border-radius: 20px;
    padding: 8px 20px;
    font-size: 14px;
    transition: all 0.3s;
    white-space: nowrap;
}

.btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

/* –ö–Ω–æ–ø–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é */
.mobile-menu-btn {
    display: none;
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    padding: 5px 10px;
    z-index: 2;
    width: 40px;
    height: 40px;
    position: relative;
}

.menu-icon,
.close-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: opacity 0.3s;
}

.close-icon {
    opacity: 0;
}

.mobile-menu-btn.active .menu-icon {
    opacity: 0;
}

.mobile-menu-btn.active .close-icon {
    opacity: 1;
}

/* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
.mobile-menu {
    display: none;
    background: #252525;
    padding: 20px;
    flex-direction: column;
    gap: 0;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 1;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.mobile-nav-link {
    color: white;
    text-decoration: none;
    padding: 15px 20px;
    font-size: 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: block;
    transition: background 0.3s;
}

.mobile-nav-link:hover {
    background: rgba(255, 255, 255, 0.05);
}

.mobile-nav-link:last-child {
    border-bottom: none;
}

.mobile-actions {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    margin-top: 10px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.mobile-fav {
    color: white;
    text-decoration: none;
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.mobile-btn {
    color: white;
    text-decoration: none;
    border: 1px solid white;
    border-radius: 20px;
    padding: 12px;
    font-size: 14px;
    text-align: center;
    transition: all 0.3s;
}

.mobile-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

@font-face {
    font-family: "ProtestRevolution-Regular";
    src: url('/src/assets/fonts/ProtestRevolution-Regular.ttf');
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .header-container {
        padding: 0 15px;
    }

    /* –°–∫—Ä—ã–≤–∞–µ–º –¥–µ—Å–∫—Ç–æ–ø–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –¥–µ–π—Å—Ç–≤–∏—è */
    .nav,
    .actions {
        display: none;
    }

    /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é */
    .mobile-menu-btn {
        display: block;
    }

    /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç–æ */
    .mobile-menu.active {
        display: flex;
    }
}

@media (min-width: 769px) {

    /* –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ —Å–∫—Ä—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
    .mobile-menu {
        display: none !important;
    }
}

@media (max-width: 480px) {
    .brand {
        font-size: 1.2rem;
    }

    .header-container {
        padding: 0 10px;
    }

    .mobile-nav-link {
        padding: 12px 15px;
        font-size: 15px;
    }
}

@media (max-width: 360px) {
    .brand {
        font-size: 1.1rem;
    }

    .header-container {
        padding: 0 8px;
    }
}
</style>